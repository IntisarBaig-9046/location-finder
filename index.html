<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Number Location Finder</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<style>
	body {
    background-color: #f8f9fa;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.card {
    border-radius: 10px;
    overflow: hidden;
    border: none;
}

.card-header {
    padding: 1.2rem;
}

#map {
    height: 100%;
    width: 100%;
    border-radius: 5px;
}

.form-control:focus {
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    border-color: #86b7fe;
}

.btn-primary {
    background-color: #0d6efd;
    border-color: #0d6efd;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background-color: #0b5ed7;
    border-color: #0a58ca;
}

#detectCountry:hover {
    background-color: #e9ecef;
}

.table th {
    width: 30%;
    background-color: #f8f9fa;
}

/* Animation for results */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

#resultContainer.show {
    display: block !important;
    animation: fadeIn 0.5s ease-out;
}

/* Responsive adjustments */
@media (max-width: 576px) {
    .card-header h3 {
        font-size: 1.3rem;
    }
    
    .table th, .table td {
        font-size: 0.9rem;
        padding: 0.5rem;
    }
}

/* Loading spinner */
.spinner-border {
    vertical-align: middle;
}
</style>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card mt-5 shadow">
                    <div class="card-header bg-primary text-white">
                        <h3 class="text-center mb-0"><i class="fas fa-phone-alt me-2"></i>Phone Number Location Finder</h3>
                    </div>
                    <div class="card-body">
                        <form id="phoneLookupForm">
                            <div class="mb-3">
                                <label for="phoneNumber" class="form-label">Enter Phone Number</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-mobile-alt"></i></span>
                                    <input type="tel" class="form-control" id="phoneNumber" 
                                           placeholder="e.g. 14155552671 or +447700900123" required>
                                    <button class="btn btn-outline-secondary" type="button" id="detectCountry">
                                        <i class="fas fa-globe"></i>
                                    </button>
                                </div>
                                <div class="form-text">Enter phone number with country code (e.g. +1, +44)</div>
                            </div>
                            
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary" id="lookupBtn">
                                    <span id="btnText">Find Location</span>
                                    <span id="btnSpinner" class="spinner-border spinner-border-sm d-none" role="status"></span>
                                </button>
                            </div>
                        </form>
                        
                        <div id="resultContainer" class="mt-4 d-none">
                            <h5 class="text-center mb-3">Location Information</h5>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <tbody>
                                        <tr>
                                            <th scope="row">Phone Number</th>
                                            <td id="resultNumber">-</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Country</th>
                                            <td id="resultCountry">-</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Carrier</th>
                                            <td id="resultCarrier">-</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Location</th>
                                            <td id="resultLocation">-</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Number Type</th>
                                            <td id="resultType">-</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Valid</th>
                                            <td id="resultValid">-</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <div id="mapContainer" class="mt-3 d-none">
                                <div class="ratio ratio-16x9">
                                    <div id="map"></div>
                                </div>
                                <small class="text-muted">Approximate location based on area code</small>
                            </div>
                        </div>
                        
                        <div id="errorContainer" class="alert alert-danger mt-3 d-none"></div>
                    </div>
                    <div class="card-footer text-muted text-center">
                        <small>This service provides approximate location based on publicly available data</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
   <script>
   	document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('phoneLookupForm');
    const phoneInput = document.getElementById('phoneNumber');
    const lookupBtn = document.getElementById('lookupBtn');
    const btnText = document.getElementById('btnText');
    const btnSpinner = document.getElementById('btnSpinner');
    const resultContainer = document.getElementById('resultContainer');
    const errorContainer = document.getElementById('errorContainer');
    const mapContainer = document.getElementById('mapContainer');
    const detectCountryBtn = document.getElementById('detectCountry');
    
    // For demo purposes - in a real app, you would use a phone number lookup API
    const demoData = {
        "+14155552671": {
            country: "United States",
            carrier: "AT&T Mobility",
            location: "California",
            type: "Mobile",
            valid: true,
            coordinates: [37.7749, -122.4194] // San Francisco
        },
        "+447700900123": {
            country: "United Kingdom",
            carrier: "EE",
            location: "London",
            type: "Mobile",
            valid: true,
            coordinates: [51.5074, -0.1278] // London
        },
        "+919876543210": {
            country: "India",
            carrier: "Airtel",
            location: "Mumbai",
            type: "Mobile",
            valid: true,
            coordinates: [19.0760, 72.8777] // Mumbai
        }
    };
    
    // Form submission
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        lookupPhoneNumber();
    });
    
    // Detect country button
    detectCountryBtn.addEventListener('click', function() {
        if (navigator.geolocation) {
            btnText.textContent = "Detecting...";
            btnSpinner.classList.remove('d-none');
            detectCountryBtn.disabled = true;
            
            navigator.geolocation.getCurrentPosition(
                function(position) {
                    // In a real app, you would use a geocoding API to get country from coordinates
                    // For demo, we'll just show a message
                    showAlert("Country detection is for demonstration only. Please enter the number with country code.", "info");
                    btnText.textContent = "Find Location";
                    btnSpinner.classList.add('d-none');
                    detectCountryBtn.disabled = false;
                },
                function(error) {
                    showAlert("Could not detect your location. Please enter the number with country code.", "warning");
                    btnText.textContent = "Find Location";
                    btnSpinner.classList.add('d-none');
                    detectCountryBtn.disabled = false;
                }
            );
        } else {
            showAlert("Geolocation is not supported by your browser. Please enter the number with country code.", "warning");
        }
    });
    
    function lookupPhoneNumber() {
        const phoneNumber = phoneInput.value.trim();
        
        // Basic validation
        if (!phoneNumber) {
            showAlert("Please enter a phone number", "danger");
            return;
        }
        
        // Validate phone number format (simple check)
        if (!/^\+?[0-9\s\-]+$/.test(phoneNumber)) {
            showAlert("Please enter a valid phone number", "danger");
            return;
        }
        
        // Show loading state
        btnText.textContent = "Searching...";
        btnSpinner.classList.remove('d-none');
        lookupBtn.disabled = true;
        
        // Clear previous results/errors
        errorContainer.classList.add('d-none');
        resultContainer.classList.add('d-none');
        mapContainer.classList.add('d-none');
        
        // Simulate API call with timeout
        setTimeout(function() {
            try {
                // Process the number (remove non-digit characters except leading +)
                const processedNumber = phoneNumber.replace(/[^\d+]/g, '');
                
                // Check if we have demo data for this number
                let result = null;
                
                // Try to find exact match in demo data
                if (demoData[processedNumber]) {
                    result = demoData[processedNumber];
                } else {
                    // Try to match by country code for other numbers
                    const countryCode = processedNumber.match(/^\+\d{1,3}/);
                    if (countryCode) {
                        // Generic response based on country code
                        result = {
                            country: getCountryName(countryCode[0]),
                            carrier: "Unknown Carrier",
                            location: "Unknown Location",
                            type: "Unknown",
                            valid: true,
                            coordinates: getRandomCoordinatesForCountry(countryCode[0])
                        };
                    }
                }
                
                if (result) {
                    displayResults(processedNumber, result);
                } else {
                    throw new Error("No information available for this number");
                }
            } catch (error) {
                showAlert(error.message || "An error occurred while processing the number", "danger");
            } finally {
                // Reset button state
                btnText.textContent = "Find Location";
                btnSpinner.classList.add('d-none');
                lookupBtn.disabled = false;
            }
        }, 1500); // Simulate network delay
    }
    
    function displayResults(phoneNumber, data) {
        // Update result fields
        document.getElementById('resultNumber').textContent = formatPhoneNumber(phoneNumber);
        document.getElementById('resultCountry').textContent = data.country || "-";
        document.getElementById('resultCarrier').textContent = data.carrier || "-";
        document.getElementById('resultLocation').textContent = data.location || "-";
        document.getElementById('resultType').textContent = data.type || "-";
        document.getElementById('resultValid').textContent = data.valid ? "Yes" : "No";
        
        // Show results
        resultContainer.classList.remove('d-none');
        resultContainer.classList.add('show');
        
        // Show map if coordinates are available
        if (data.coordinates && data.coordinates.length === 2) {
            mapContainer.classList.remove('d-none');
            initMap(data.coordinates[0], data.coordinates[1], data.location || data.country);
        }
    }
    
    function initMap(lat, lng, locationName) {
        // Clear previous map if exists
        if (window.map) {
            window.map.remove();
        }
        
        // Create new map
        const mapElement = document.getElementById('map');
        mapElement.innerHTML = ''; // Clear previous map
        
        window.map = L.map('map').setView([lat, lng], 10);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(window.map);
        
        L.marker([lat, lng]).addTo(window.map)
            .bindPopup(locationName)
            .openPopup();
    }
    
    function showAlert(message, type) {
        errorContainer.textContent = message;
        errorContainer.className = `alert alert-${type} mt-3`;
        errorContainer.classList.remove('d-none');
        
        // Hide after 5 seconds
        setTimeout(() => {
            errorContainer.classList.add('d-none');
        }, 5000);
    }
    
    // Helper functions
    function formatPhoneNumber(number) {
        // Simple formatting for display
        return number.replace(/(\+\d{1,3})(\d{3})(\d{3})(\d{4})/, '$1 $2 $3 $4');
    }
    
    function getCountryName(countryCode) {
        const countryCodes = {
            "+1": "United States/Canada",
            "+44": "United Kingdom",
            "+91": "India",
            "+86": "China",
            "+81": "Japan",
            "+49": "Germany",
            "+33": "France",
            "+7": "Russia",
            "+61": "Australia",
            "+52": "Mexico"
        };
        
        return countryCodes[countryCode] || "Unknown Country";
    }
    
    function getRandomCoordinatesForCountry(countryCode) {
        // Return random coordinates within a country for demo purposes
        const countryCoordinates = {
            "+1": [39.8283, -
   </script>
    <!-- Leaflet JS for maps (optional) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
</body>
</html>